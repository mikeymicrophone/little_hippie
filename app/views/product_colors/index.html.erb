<h1>Listing product colors</h1>

<table>
  <tr>
    <th>Product</th>
    <th>Color</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @product_colors.each do |product_color| %>
  <tr>
    <td><%= link_to_name product_color.product %></td>
    <td><%= link_to_name product_color.color %></td>
    <td><%= link_to 'Show', product_color %></td>
    <td><%= link_to image_tag('edit_button.gif'), edit_product_color_path(product_color) %></td>
    <td><%= link_to image_tag('X_button.gif'), product_color, method: :delete, data: { confirm: 'Are you sure?' } %></td>
    <%= form_tag update_inventory_product_color_path(product_color) do %>
      <% product_color.body_style.sizes.each do |size| %>
        <% inventory_for_size = product_color.inventories.find_or_create_by_size_id(size.id) %>
        <td>
          <%= size.name %>:
          <%= text_field_tag "inventory_#{inventory_for_size.id}", inventory_for_size.amount %>
        </td>
      <% end %>
      <td><%= submit_tag %></td>
    <% end %>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Product color', new_product_color_path %>
